<!DOCTYPE html>
<html lang="en-us">
<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>Unit 2 - OpenShift v4 Onboarding</title>
<meta name="description" content="A comprehensive onboarding guide to operating and instrumenting apps on OpenShift Dedicated v4">
<meta name="generator" content="Hugo 0.69.0" />
<link href="https://onboarding.v4.openshift.rackow.ioindex.xml" rel="alternate" type="application/rss+xml">
<link rel="canonical" href="https://onboarding.v4.openshift.rackow.io/units/unit2/">
<link rel="stylesheet" href="https://onboarding.v4.openshift.rackow.io/css/theme.min.css">
<script src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>
<link rel="stylesheet" href="https://onboarding.v4.openshift.rackow.io/css/chroma.min.css">
<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery.easing@1.4.1/jquery.easing.min.js"></script>
<script src="https://onboarding.v4.openshift.rackow.io/js/bundle.js"></script><style>
:root {}
</style>
<meta property="og:title" content="Unit 2" />
<meta property="og:description" content="Unit 2 What&rsquo;s happening in this unit? You will set up your own OpenShift dedicated cluster and deploy and example application to it
Action items  Set up OpenSift Dedicated Cluster using OCM Deploy the example docker image to your newly set up OpenShift Dedicated Cluster  Note We encourage you to always take a look at the code even if it&rsquo;s not explicitly mentioned. In this case we have changed the code so that it has some extra functionality over just printing a statement once." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://onboarding.v4.openshift.rackow.io/units/unit2/" />
<meta property="article:published_time" content="2020-04-17T15:17:00+02:00" />
<meta property="article:modified_time" content="2020-04-17T15:17:00+02:00" /><meta property="og:site_name" content="OpenShift v4 Onboarding" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Unit 2"/>
<meta name="twitter:description" content="Unit 2 What&rsquo;s happening in this unit? You will set up your own OpenShift dedicated cluster and deploy and example application to it
Action items  Set up OpenSift Dedicated Cluster using OCM Deploy the example docker image to your newly set up OpenShift Dedicated Cluster  Note We encourage you to always take a look at the code even if it&rsquo;s not explicitly mentioned. In this case we have changed the code so that it has some extra functionality over just printing a statement once."/>
<meta itemprop="name" content="Unit 2">
<meta itemprop="description" content="Unit 2 What&rsquo;s happening in this unit? You will set up your own OpenShift dedicated cluster and deploy and example application to it
Action items  Set up OpenSift Dedicated Cluster using OCM Deploy the example docker image to your newly set up OpenShift Dedicated Cluster  Note We encourage you to always take a look at the code even if it&rsquo;s not explicitly mentioned. In this case we have changed the code so that it has some extra functionality over just printing a statement once.">
<meta itemprop="datePublished" content="2020-04-17T15:17:00&#43;02:00" />
<meta itemprop="dateModified" content="2020-04-17T15:17:00&#43;02:00" />
<meta itemprop="wordCount" content="500">



<meta itemprop="keywords" content="" /></head>
<body><div class="container"><header>
<h1>OpenShift v4 Onboarding</h1>

 <span class="version">Version 0.1</span>
<a href="https://github.com/RiRa12621/openshift-onboarding/" class="github"><i class="fab fa-github"></i></a>
<p class="description">A comprehensive onboarding guide to operating and instrumenting apps on OpenShift Dedicated v4</p>

</header>
<div class="global-menu">
<nav>
<ul>
<li><a href="https://onboarding.v4.openshift.rackow.io/">Home</a></li>
<li><a href="https://onboarding.v4.openshift.rackow.io/units">Units</a></li>
<li><a href="https://twitter.com/rira12621">Twitter</a></li></ul>
</nav>
</div>
<div class="content-container">
<main><h1>Unit 2</h1>
<h1 id="unit-2">Unit 2</h1>
<h2 id="whats-happening-in-this-unit">What&rsquo;s happening in this unit?</h2>
<p>You will set up your own OpenShift dedicated cluster and deploy and example application to it</p>
<h2 id="action-items">Action items</h2>
<ul>
<li>Set up OpenSift Dedicated Cluster using OCM</li>
<li>Deploy the example docker image to your newly set up OpenShift Dedicated Cluster</li>
</ul>
<h3 id="note">Note</h3>
<p>We encourage you to always take a look at the code even if it&rsquo;s not explicitly mentioned.
In this case we have changed the code so that it has some extra functionality over just printing a statement once.
If you browse it, you will find that we&rsquo;ve added capilities to answer to http requests, making it a lot easier to deploy on OpenShift.
In case you are curious, you can build it like we did in the first lection and then run it.
It will listen on port 8080.</p>
<h3 id="task-1">Task 1</h3>
<p>These steps assume you have enough quota to start a cluster.
If this is not the case and you are a Red Hat employee, talk to your manager to get this fixed.
If this is not the case and you are a customer, talk to your Sales contact to buy more quota.</p>
<ul>
<li>log in to <a href="https://cloud.redhat.com">https://cloud.redhat.com</a></li>
<li>navigate to &ldquo;cluster manager&rdquo;</li>
<li>hit &ldquo;create cluster&rdquo;</li>
<li>choose OpenShift Dedicated</li>
<li>choose the cloud provider you prefer, we will assume that is Google Cloud Platform</li>
<li>Fill out the form (since this is a training lab, the smallest possible cluster is good enough)</li>
<li>Make yourself a nice cup of coffee or tea while the cluster is being set up</li>
</ul>
<p>To help you navigate through this a bit easier, there&rsquo;s a gif below showing the flow.</p>
<p><img src="https://raw.githubusercontent.com/RiRa12621/openshift-onboarding/master/images/OCM-ui-login.gif" alt="OCM Login"></p>
<h3 id="task-2">Task 2</h3>
<p>You will be deploying the code and docker image from this repository just that we have uploaded it to quay.io for you already.</p>
<h4 id="preparations">Preparations</h4>
<p>There are a variety of different ways this can be achieved, we will try to stay as OpenShift native therefore those instructions might not work with vanilla Kubernetes
as things like <code>oc create</code> don&rsquo;t exist there.</p>
<p>Before you begin you should have <code>oc</code> set up already.
You can download it from <a href="https://mirror.openshift.com/pub/openshift-v4/clients/oc/latest/">here</a>.</p>
<p>In case you prefer to use a CLI to interact with OCM instead of the UI, you can also download the do so. Just get the command line client using <code>go get -u github.com/openshift-online/ocm-cli/cmd/ocm</code>.
Afterwards get your offline token from <a href="https://cloud.redhat.com/openshift/token">here</a> and then login using <code>ocm login --token $OFFLINE_TOKEN</code>.</p>
<p>Now you will be able to use commands like <code>ocm cluster list</code>, <code>ocm cluster list --managed</code> or login like <code>ocm cluster login &lt;cluster_id&gt;</code></p>
<p>Log in to your newly created cluster with your preferred method.</p>
<p>Verify everything worked with <code>oc whoami</code> which should tell you which user you are on the cluster.</p>
<h4 id="task-fulfilling">Task fulfilling</h4>
<p>Now that you&rsquo;re logged into the cluster, we can go ahead and deploy our application.
First though we have to create a new project.</p>
<p><code>oc new-project my-great-project</code></p>
<p>Theoretically your context will be set to that new project but let&rsquo;s just be extra sure</p>
<p><code>oc project my-great-project</code></p>
<p>Now let&rsquo;s deploy our application.
<code>oc new-app my-great-app:quay.io/rira12621/openshift-onboarding:unit2</code></p>
<div class="edit-meta">
Last updated on 17 Apr 2020


<br>
Published on 17 Apr 2020
<br><a href="https://github.com/RiRa12621/openshift-onboarding//edit/master/content/units/unit2.md" class="edit-page"><i class="fas fa-pen-square"></i> Edit on GitHub</a></div><nav class="pagination"><a class="nav nav-prev" href="https://onboarding.v4.openshift.rackow.io/units/unit1/" title="Unit 1"><i class="fas fa-arrow-left" aria-hidden="true"></i> Prev - Unit 1</a>
<a class="nav nav-next" href="https://onboarding.v4.openshift.rackow.io/units/unit1/" title="Unit 1">Next - Unit 1 <i class="fas fa-arrow-right" aria-hidden="true"></i></a>
</nav><footer><p class="powered">Powered by <a href="https://gohugo.io">Hugo</a>. Theme by <a href="https://themes.gohugo.io/hugo-theme-techdoc/">TechDoc</a>. Designed by <a href="https://github.com/thingsym/hugo-theme-techdoc">Thingsym</a>.</p>
</footer>
</main><div class="sidebar">

<nav class="open-menu">
<ul>
<li class=""><a href="https://onboarding.v4.openshift.rackow.io">Home</a></li>

<li class="parent"><a href="https://onboarding.v4.openshift.rackow.io/units/">Units</a>
  
<ul class="sub-menu">
<li class=""><a href="https://onboarding.v4.openshift.rackow.io/units/unit1/">Unit 1</a></li>
<li class="active"><a href="https://onboarding.v4.openshift.rackow.io/units/unit2/">Unit 2</a></li>
</ul>
  
</li>
</ul>
</nav>



<div class="sidebar-footer"></div>
</div>
</div><a href="#" id="backtothetop-fixed" class="backtothetop"
 data-backtothetop-duration="600"
 data-backtothetop-easing="easeOutQuart"
 data-backtothetop-fixed-fadeIn="1000"
 data-backtothetop-fixed-fadeOut="1000"
 data-backtothetop-fixed-bottom="10"
 data-backtothetop-fixed-right="20">
<span class="fa-layers fa-fw">
<i class="fas fa-circle"></i>
<i class="fas fa-arrow-circle-up"></i>
</span></a>
</div>
</body>
</html>
